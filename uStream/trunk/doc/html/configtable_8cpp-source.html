<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>uStream: C:/ustream_streaming_architecture/uOsUtil/src/core/configtable.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">ustream_streaming_architecture</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">uOsUtil</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000007.html">core</a></div>
<h1>configtable.cpp</h1><a href="configtable_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">  uSTREAM LIGHT-WEIGHT STREAMING ARCHITECTURE</span>
00003 <span class="comment">  Copyright (C) 2005 Luis Serrano (luis@kontrol-dj.com) </span>
00004 <span class="comment">  </span>
00005 <span class="comment">  Based on DANUBIO STREAMING ARCHITECTURE by Michele Iacobellis (m.iacobellis@nexotech.it)</span>
00006 <span class="comment">  </span>
00007 <span class="comment">  This program is free software; you can redistribute it and/or modify</span>
00008 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00009 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00010 <span class="comment">  (at your option) any later version.</span>
00011 <span class="comment">  </span>
00012 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00013 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00014 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00015 <span class="comment">  GNU General Public License for more details.</span>
00016 <span class="comment">  </span>
00017 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00018 <span class="comment">  along with this program; if not, write to the Free Software</span>
00019 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00020 <span class="comment">  </span>
00021 <span class="comment">*/</span>
00022 
00023 <span class="preprocessor">#include "<a class="code" href="configtable_8hpp.html">configtable.hpp</a>"</span>
00024 
00025 <span class="keyword">namespace </span>uStreamLib {
00026         <span class="comment">/*</span>
00027 <span class="comment">         * Implementation of ConfigCallBack.</span>
00028 <span class="comment">         */</span>
00029 
<a name="l00030"></a><a class="code" href="classu_stream_lib_1_1_config_call_back.html#a0">00030</a>         ConfigCallBack::ConfigCallBack(<span class="keywordtype">void</span>)
00031                 : ct(NULL), key(NULL), type(0), otype_id(0), ival(NULL), dval(NULL),
00032                 sval(NULL), svalsz(0), oval(NULL), userdata(NULL), enabled(true)
00033         {
00034                 <a class="code" href="classu_stream_lib_1_1_object.html#b2">setClassID</a>(<a class="code" href="namespaceu_stream_lib.html#a262a157">UOSUTIL_RTTI_CONFIG_CALLBACK</a>);
00035         }
00036 
<a name="l00037"></a><a class="code" href="classu_stream_lib_1_1_config_call_back.html#a2">00037</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigCallBack::init(<span class="keywordtype">char</span>* name)
00038         {
00039                 <span class="comment">// initialize parent</span>
00040                 <span class="keywordflow">return</span> CallBack::init(name);
00041         }
00042 
<a name="l00043"></a><a class="code" href="classu_stream_lib_1_1_config_call_back.html#a1">00043</a>         ConfigCallBack::~ConfigCallBack(<span class="keywordtype">void</span>)
00044         {
00045                 <span class="comment">// nothing to do</span>
00046         }
00047 
00048         <span class="comment">/*</span>
00049 <span class="comment">         * Implementation of Property.</span>
00050 <span class="comment">         */</span>
00051 
<a name="l00052"></a><a class="code" href="classu_stream_lib_1_1_property.html#a0">00052</a>         Property::Property(<span class="keywordtype">void</span>)
00053                 : <a class="code" href="classu_stream_lib_1_1_object.html">Object</a>(<a class="code" href="namespaceu_stream_lib.html#a262a186">UOSUTIL_RTTI_PROPERTY</a>), _type(TYPE_UNDEF), _int_max(0),
00054                 _int_min(0), _double_max(0.0), _double_min(0.0), _bVisible(true),
00055                 _bReadOnly(false), _bSecret(false)
00056         {
00057                 <span class="comment">// nothing to do</span>
00058         }
00059 
<a name="l00060"></a><a class="code" href="classu_stream_lib_1_1_property.html#a1">00060</a>         Property::~Property(<span class="keywordtype">void</span>)
00061         {
00062                 <span class="comment">// nothing to do</span>
00063         }
00064 
<a name="l00065"></a><a class="code" href="classu_stream_lib_1_1_property.html#a2">00065</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> Property::init(uint8 type, uint32 allowed_size, <span class="keywordtype">char</span>* description)
00066         {
00067                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret = 0;
00068 
00069                 <span class="comment">// initialize properties</span>
00070                 _type = type;
00071                 _int_max = 0;
00072                 _int_min = 0;
00073                 _double_max = 0.0;
00074                 _double_min = 0.0;
00075                 _bVisible = <span class="keyword">true</span>;
00076                 _bReadOnly = <span class="keyword">false</span>;
00077                 _bSecret = <span class="keyword">false</span>;
00078 
00079                 <span class="comment">// allocate "allowed values" vector</span>
00080                 <span class="keywordflow">switch</span> (type) {
00081                 <span class="keywordflow">case</span> <a class="code" href="classu_stream_lib_1_1_property.html#w5w1">TYPE_INT</a>:
00082                         ret = _vAllowed.<a class="code" href="classu_stream_lib_1_1_vector.html#a2">init</a>(<span class="keyword">sizeof</span>(<a class="code" href="namespaceu_stream_lib.html#a244">int32</a>));
00083                         <span class="keywordflow">if</span> (ret == FAILURE)
00084                                 <span class="keywordflow">return</span> FAILURE;
00085                         <span class="keywordflow">break</span>;
00086                 <span class="keywordflow">case</span> <a class="code" href="classu_stream_lib_1_1_property.html#w5w2">TYPE_DOUBLE</a>:
00087                         ret = _vAllowed.<a class="code" href="classu_stream_lib_1_1_vector.html#a2">init</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
00088                         <span class="keywordflow">if</span> (ret == FAILURE)
00089                                 <span class="keywordflow">return</span> FAILURE;
00090                         <span class="keywordflow">break</span>;
00091                 <span class="keywordflow">case</span> <a class="code" href="classu_stream_lib_1_1_property.html#w5w3">TYPE_STRING</a>:
00092                         ret = _vAllowed.<a class="code" href="classu_stream_lib_1_1_vector.html#a2">init</a>(allowed_size);
00093                         <span class="keywordflow">if</span> (ret == FAILURE)
00094                                 <span class="keywordflow">return</span> FAILURE;
00095                         <span class="keywordflow">break</span>;
00096                 <span class="keywordflow">case</span> <a class="code" href="classu_stream_lib_1_1_property.html#w5w4">TYPE_OBJECT</a>:
00097                         ret = _vAllowed.<a class="code" href="classu_stream_lib_1_1_vector.html#a2">init</a>(allowed_size);
00098                         <span class="keywordflow">if</span> (ret == FAILURE)
00099                                 <span class="keywordflow">return</span> FAILURE;
00100                         <span class="keywordflow">break</span>;
00101                 <span class="keywordflow">default</span>:
00102                         <span class="keywordflow">break</span>;
00103                 }
00104 
00105                 <span class="comment">// allocate description buffer</span>
00106                 <span class="keywordflow">if</span> (description) {
00107                         ret = _dbDesc.<a class="code" href="classu_stream_lib_1_1_data_buf.html#a2">init</a>(description);
00108                         <span class="keywordflow">if</span> (ret == FAILURE)
00109                                 <span class="keywordflow">return</span> FAILURE;
00110                 } <span class="keywordflow">else</span> {
00111                         ret = _dbDesc.<a class="code" href="classu_stream_lib_1_1_data_buf.html#a2">init</a>(<span class="stringliteral">""</span>);
00112                         <span class="keywordflow">if</span> (ret == FAILURE)
00113                                 <span class="keywordflow">return</span> FAILURE;
00114                 }
00115 
00116                 <span class="comment">// allocate label buffer</span>
00117                 ret = _dbLabel.<a class="code" href="classu_stream_lib_1_1_data_buf.html#a2">init</a>(<span class="stringliteral">""</span>);
00118                 <span class="keywordflow">if</span> (ret == FAILURE)
00119                         <span class="keywordflow">return</span> FAILURE;
00120 
00121                 <span class="comment">// ok</span>
00122                 <a class="code" href="classu_stream_lib_1_1_object.html#b0">setOk</a>(<span class="keyword">true</span>);
00123                 <span class="keywordflow">return</span> SUCCESS;
00124         }
00125 
00126         <span class="comment">/*</span>
00127 <span class="comment">        * Implementation of PropertyGroup.</span>
00128 <span class="comment">        */</span>
00129 
<a name="l00130"></a><a class="code" href="classu_stream_lib_1_1_property_group.html#a0">00130</a>         PropertyGroup::PropertyGroup(<span class="keywordtype">void</span>)
00131         {
00132                 <a class="code" href="classu_stream_lib_1_1_object.html#b2">setClassID</a>(<a class="code" href="namespaceu_stream_lib.html#a262a187">UOSUTIL_RTTI_PROPERTY_GROUP</a>);
00133         }
00134 
<a name="l00135"></a><a class="code" href="classu_stream_lib_1_1_property_group.html#a1">00135</a>         PropertyGroup::~PropertyGroup(<span class="keywordtype">void</span>)
00136         {
00137                 <span class="comment">// nothing to do</span>
00138         }
00139 
<a name="l00140"></a><a class="code" href="classu_stream_lib_1_1_property_group.html#a2">00140</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> PropertyGroup::init(<span class="keywordtype">char</span>* name, uint32 item_sz)
00141         {
00142                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret = 0;
00143 
00144                 <span class="comment">// initialize parent</span>
00145                 ret = Vector::init(item_sz);
00146                 <span class="keywordflow">if</span> (ret == FAILURE)
00147                         <span class="keywordflow">return</span> FAILURE;
00148 
00149                 <span class="comment">// initialize name</span>
00150                 ret = _dbName.<a class="code" href="classu_stream_lib_1_1_data_buf.html#a2">init</a>(name);
00151                 <span class="keywordflow">if</span> (ret == FAILURE)
00152                         <span class="keywordflow">return</span> FAILURE;
00153 
00154                 <span class="comment">// ok</span>
00155                 <a class="code" href="classu_stream_lib_1_1_object.html#b0">setOk</a>(<span class="keyword">true</span>);
00156                 <span class="keywordflow">return</span> SUCCESS;
00157         }
00158 
00159         <span class="comment">/*</span>
00160 <span class="comment">        * Implementation of ConfigTable.</span>
00161 <span class="comment">        */</span>
00162 
<a name="l00163"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a0">00163</a>         ConfigTable::ConfigTable(<span class="keywordtype">void</span>)
00164                 : <a class="code" href="classu_stream_lib_1_1_object.html">Object</a>(<a class="code" href="namespaceu_stream_lib.html#a262a160">UOSUTIL_RTTI_CONFIG_TABLE</a>)
00165         {
00166                 <span class="comment">// nothing to do</span>
00167         }
00168 
<a name="l00169"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a1">00169</a>         ConfigTable::~ConfigTable(<span class="keywordtype">void</span>)
00170         {
00171                 <span class="comment">// destroy property descriptions</span>
00172                 _destroyPropertyDescriptions();
00173         }
00174 
<a name="l00175"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a2">00175</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::init(uint32 hash_size)
00176         {
00177                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret = 0;
00178 
00179                 <span class="comment">// initialize tables</span>
00180                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(hash_size);
00181                 <span class="keywordflow">if</span> (ret == FAILURE)
00182                         <span class="keywordflow">return</span> FAILURE;
00183 
00184                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(hash_size);
00185                 <span class="keywordflow">if</span> (ret == FAILURE)
00186                         <span class="keywordflow">return</span> FAILURE;
00187 
00188                 ret = _shGroups.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(hash_size);
00189                 <span class="keywordflow">if</span> (ret == FAILURE)
00190                         <span class="keywordflow">return</span> FAILURE;
00191 
00192                 <span class="comment">// initialize name</span>
00193                 ret = _dbName.<a class="code" href="classu_stream_lib_1_1_data_buf.html#a2">init</a>(<span class="stringliteral">"ConfigTable"</span>);
00194                 <span class="keywordflow">if</span> (ret == FAILURE)
00195                         <span class="keywordflow">return</span> FAILURE;
00196 
00197                 <span class="comment">// ok</span>
00198                 <a class="code" href="classu_stream_lib_1_1_object.html#b0">setOk</a>(<span class="keyword">true</span>);
00199                 <span class="keywordflow">return</span> SUCCESS;
00200         }
00201 
00202         <span class="keywordtype">void</span> ConfigTable::_destroyPropertyDescriptions(<span class="keywordtype">void</span>)
00203         {
00204                 <a class="code" href="classu_stream_lib_1_1_enumeration.html">Enumeration</a>* en = NULL, * ev = NULL;
00205                 <span class="keywordtype">char</span>* key = NULL;
00206 
00207                 <span class="comment">// delete property objects</span>
00208                 en = _shDtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a20">values</a>();
00209                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>()) {
00210                         <span class="keyword">struct </span>pdesc_t* pd = (<span class="keyword">struct </span>pdesc_t*) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00211                         <span class="keywordflow">if</span> (pd-&gt;property) {
00212                                 <span class="comment">// DEBUG</span>
00213                                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::destroyPropertyDescriptions(): deleting \"%s\"\n"</span>,
00214                                         pd-&gt;property-&gt;getDescription()));
00215                                 <span class="keyword">delete</span> pd-&gt;property;
00216                         }
00217                 }
00218 
00219                 <span class="comment">// DEBUG</span>
00220                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::destroyPropertyDescriptions(): removing callbacks...\n"</span>));
00221 
00222                 <span class="comment">// delete all callback objects</span>
00223                 en = _shVtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a19">keys</a>();
00224                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>()) {
00225                         <span class="keywordtype">char</span>* key = (<span class="keywordtype">char</span>*) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00226                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::destroyPropertyDescriptions(): key = %s\n"</span>,
00227                                 key));
00228 
00229                         <a class="code" href="classu_stream_lib_1_1_config_table.html#a15">clearRead</a>(key, <span class="keyword">true</span>);
00230                         <a class="code" href="classu_stream_lib_1_1_config_table.html#a17">clearWrite</a>(key, <span class="keyword">true</span>);
00231                 }
00232 
00233                 <span class="comment">// delete callback vectors</span>
00234                 ev = _shDtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a20">values</a>();
00235                 <span class="keywordflow">while</span> (ev-&gt;hasMoreElements()) {
00236                         <span class="keyword">struct </span>pdesc_t* pd = (<span class="keyword">struct </span>pdesc_t*) ev-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00237                         <span class="keywordflow">if</span> (pd-&gt;on_readv)
00238                                 <span class="keyword">delete</span> pd-&gt;on_readv;
00239                         <span class="keywordflow">if</span> (pd-&gt;on_writev)
00240                                 <span class="keyword">delete</span> pd-&gt;on_writev;
00241                 }
00242 
00243                 <span class="comment">// empty property hash tables</span>
00244                 en = _shDtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a19">keys</a>();
00245                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>()) {
00246                         key = (<span class="keywordtype">char</span> *) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00247                         _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a14">del</a>(key);
00248                 }
00249 
00250                 en = _shVtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a19">keys</a>();
00251                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>()) {
00252                         key = (<span class="keywordtype">char</span> *) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00253                         _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a14">del</a>(key);
00254                 }
00255 
00256                 <span class="comment">// delete property groups</span>
00257                 en = _shGroups.<a class="code" href="classu_stream_lib_1_1_hash.html#a19">keys</a>();
00258                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>()) {
00259                         <span class="keywordtype">char</span>* gkey = (<span class="keywordtype">char</span>*) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>();
00260                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::destroyPropertyDescriptions(): group = %s\n"</span>,
00261                                 gkey));
00262 
00263                         <span class="keyword">delete</span> ((<a class="code" href="classu_stream_lib_1_1_property_group.html">PropertyGroup</a> *) _shGroups.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(gkey));
00264                         _shGroups.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a14">del</a>(gkey);
00265                 }
00266 
00267                 <span class="comment">// DEBUG</span>
00268                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::destroyPropertyDescriptions(): ok\n"</span>));
00269         }
00270 
<a name="l00271"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a5">00271</a>         <a class="code" href="classu_stream_lib_1_1_property.html">Property</a>* ConfigTable::createPropertyDescription(<span class="keywordtype">char</span>* key,
00272                 uint32 allowed_size)
00273         {
00274                 <a class="code" href="classu_stream_lib_1_1_property.html">Property</a>* prop = NULL;
00275                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00276                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret = 0;
00277 
00278                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00279                 <span class="keywordflow">if</span> (!pd)
00280                         <span class="keywordflow">return</span> NULL;
00281 
00282                 prop = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_property.html">Property</a>();
00283                 pd-&gt;property = prop;
00284 
00285                 ret = prop-&gt;<a class="code" href="classu_stream_lib_1_1_property.html#a2">init</a>(pd-&gt;type, allowed_size);
00286                 <span class="keywordflow">if</span> (ret == FAILURE) {
00287                         <span class="keyword">delete</span> prop; <span class="keywordflow">return</span> NULL;
00288                 }
00289 
00290                 <span class="comment">// DEBUG</span>
00291                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"createProperty(): %s\n"</span>, prop-&gt;<a class="code" href="classu_stream_lib_1_1_property.html#a4">getDescription</a>()));
00292 
00293                 <span class="keywordflow">return</span> prop;
00294         }
00295 
<a name="l00296"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a6">00296</a>         <a class="code" href="classu_stream_lib_1_1_property.html">Property</a>* ConfigTable::getPropertyDescription(<span class="keywordtype">char</span>* key)
00297         {
00298                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00299 
00300                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00301                 <span class="keywordflow">if</span> (!pd)
00302                         <span class="keywordflow">return</span> NULL;
00303 
00304                 <span class="comment">// DEBUG</span>
00305                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"getProperty(): found for key \"%s\"\n"</span>, key));
00306 
00307                 <span class="keywordflow">return</span> pd-&gt;property;
00308         }
00309 
<a name="l00310"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a7">00310</a>         <a class="code" href="classu_stream_lib_1_1_property_group.html">PropertyGroup</a>* ConfigTable::createPropertyGroup(<span class="keywordtype">char</span>* name)
00311         {
00312                 <a class="code" href="classu_stream_lib_1_1_property_group.html">PropertyGroup</a>* pg = NULL;
00313                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret = 0;
00314 
00315                 pg = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_property_group.html">PropertyGroup</a>();
00316 
00317                 ret = pg-&gt;<a class="code" href="classu_stream_lib_1_1_property_group.html#a2">init</a>(name);
00318                 <span class="keywordflow">if</span> (ret == FAILURE) {
00319                         <span class="keyword">delete</span> pg; <span class="keywordflow">return</span> NULL;
00320                 }
00321 
00322                 ret = _shGroups.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a12">pput</a>(name, (<span class="keywordtype">char</span> *) pg);
00323                 <span class="keywordflow">if</span> (ret != SUCCESS) {
00324                         <span class="keyword">delete</span> pg; <span class="keywordflow">return</span> NULL;
00325                 }
00326 
00327                 <span class="keywordflow">return</span> pg;
00328         }
00329 
<a name="l00330"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a9">00330</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::getString(<span class="keywordtype">char</span>* key, <span class="keywordtype">char</span>** value)
00331         {
00332                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00333                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> res = FAILURE;
00334                 <span class="keywordtype">char</span>* ret;
00335 
00336                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00337                 <span class="keywordflow">if</span> (!pd)
00338                         <span class="keywordflow">return</span> FAILURE;
00339 
00340                 <span class="keywordflow">if</span> (pd-&gt;type != Property::TYPE_STRING)
00341                         <span class="keywordflow">return</span> FAILURE;
00342                 <span class="keywordflow">if</span> (pd-&gt;is_null)
00343                         <span class="keywordflow">return</span> FAILURE;
00344 
00345                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00346                 <span class="keywordflow">if</span> (ret) {
00347                         *value = ret; res = SUCCESS;
00348                 }
00349 
00350                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_readv-&gt;getCount(); i++) {
00351                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_readv)[i];
00352 
00353                         <span class="comment">// DEBUG</span>
00354                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"getString(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00355 
00356                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00357                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00358                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_STRING;
00359                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00360                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00361                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00362                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = ret;
00363                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00364                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = (uint32) strlen(ret) + 1;
00365                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pd-&gt;user_data;
00366 
00367                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00368                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pd-&gt;user_data);
00369                 }
00370 
00371                 <span class="keywordflow">return</span> res;
00372         }
00373 
<a name="l00374"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a10">00374</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::getInt(<span class="keywordtype">char</span>* key, int32* value)
00375         {
00376                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00377                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> res = FAILURE;
00378                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a>* ret;
00379 
00380                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00381                 <span class="keywordflow">if</span> (!pd)
00382                         <span class="keywordflow">return</span> FAILURE;
00383 
00384                 <span class="keywordflow">if</span> (pd-&gt;type != Property::TYPE_INT)
00385                         <span class="keywordflow">return</span> FAILURE;
00386                 <span class="keywordflow">if</span> (pd-&gt;is_null)
00387                         <span class="keywordflow">return</span> FAILURE;
00388 
00389                 ret = (<a class="code" href="namespaceu_stream_lib.html#a244">int32</a> *) _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00390                 <span class="keywordflow">if</span> (ret) {
00391                         *value = *ret; res = SUCCESS;
00392                 }
00393 
00394                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_readv-&gt;getCount(); i++) {
00395                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_readv)[i];
00396 
00397                         <span class="comment">// DEBUG</span>
00398                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"getInt(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00399 
00400                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00401                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00402                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_INT;
00403                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00404                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = ret;
00405                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00406                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00407                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00408                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00409                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pd-&gt;user_data;
00410 
00411                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00412                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pd-&gt;user_data);
00413                 }
00414 
00415                 <span class="keywordflow">return</span> res;
00416         }
00417 
<a name="l00418"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a11">00418</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::getDouble(<span class="keywordtype">char</span>* key, <span class="keywordtype">double</span>* value)
00419         {
00420                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00421                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> res = FAILURE;
00422                 <span class="keywordtype">double</span>* ret;
00423 
00424                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00425                 <span class="keywordflow">if</span> (!pd)
00426                         <span class="keywordflow">return</span> FAILURE;
00427 
00428                 <span class="keywordflow">if</span> (pd-&gt;type != Property::TYPE_DOUBLE)
00429                         <span class="keywordflow">return</span> FAILURE;
00430                 <span class="keywordflow">if</span> (pd-&gt;is_null)
00431                         <span class="keywordflow">return</span> FAILURE;
00432 
00433                 ret = (<span class="keywordtype">double</span> *) _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00434                 <span class="keywordflow">if</span> (ret) {
00435                         *value = *ret; res = SUCCESS;
00436                 }
00437 
00438                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_readv-&gt;getCount(); i++) {
00439                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_readv)[i];
00440 
00441                         <span class="comment">// DEBUG</span>
00442                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"getDouble(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00443 
00444                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00445                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00446                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_DOUBLE;
00447                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00448                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00449                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = ret;
00450                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00451                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00452                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00453                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pd-&gt;user_data;
00454 
00455                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00456                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pd-&gt;user_data);
00457                 }
00458 
00459                 <span class="keywordflow">return</span> res;
00460         }
00461 
<a name="l00462"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a12">00462</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::getObject(<span class="keywordtype">char</span>* key, <span class="keywordtype">void</span>** value, uint16* otype_id)
00463         {
00464                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00465                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> res = FAILURE;
00466                 <span class="keywordtype">char</span>* ret;
00467 
00468                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00469                 <span class="keywordflow">if</span> (!pd)
00470                         <span class="keywordflow">return</span> FAILURE;
00471 
00472                 <span class="keywordflow">if</span> (pd-&gt;type != Property::TYPE_OBJECT)
00473                         <span class="keywordflow">return</span> FAILURE;
00474                 <span class="keywordflow">if</span> (pd-&gt;is_null)
00475                         <span class="keywordflow">return</span> FAILURE;
00476 
00477                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00478                 <span class="keywordflow">if</span> (ret) {
00479                         *value = ret; *otype_id = pd-&gt;otype_id; res = SUCCESS;
00480                 }
00481 
00482                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_readv-&gt;getCount(); i++) {
00483                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_readv)[i];
00484 
00485                         <span class="comment">// DEBUG</span>
00486                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"getString(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00487 
00488                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00489                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00490                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_OBJECT;
00491                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = pd-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a>;
00492                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00493                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00494                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00495                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = ret;
00496                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00497                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pd-&gt;user_data;
00498 
00499                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00500                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pd-&gt;user_data);
00501                 }
00502 
00503                 <span class="keywordflow">return</span> res;
00504         }
00505 
<a name="l00506"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a13">00506</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::getParamType(<span class="keywordtype">char</span>* key, uint8* type)
00507         {
00508                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00509 
00510                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00511                 <span class="keywordflow">if</span> (!pd)
00512                         <span class="keywordflow">return</span> FAILURE;
00513 
00514                 *type = pd-&gt;type; <span class="keywordflow">return</span> SUCCESS;
00515         }
00516 
<a name="l00517"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a14">00517</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::attachRead(<span class="keywordtype">char</span>* key, <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb,
00518                 <span class="keywordtype">void</span>* user_data)
00519         {
00520                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00521 
00522                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00523                 <span class="keywordflow">if</span> (!pd)
00524                         <span class="keywordflow">return</span> FAILURE;
00525 
00526                 <span class="comment">// DEBUG</span>
00527                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"attachRead(): adding callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00528 
00529                 pd-&gt;user_data = user_data;
00530                 <span class="keywordflow">return</span> pd-&gt;on_readv-&gt;add(ccb);
00531         }
00532 
<a name="l00533"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a15">00533</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::clearRead(<span class="keywordtype">char</span>* key, <span class="keywordtype">bool</span> dealloc)
00534         {
00535                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00536 
00537                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00538                 <span class="keywordflow">if</span> (!pd || !pd-&gt;on_readv)
00539                         <span class="keywordflow">return</span> FAILURE;
00540 
00541                 <span class="keywordflow">if</span> (dealloc) {
00542                         <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_readv-&gt;getCount(); i++) {
00543                                 <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_readv)[i];
00544 
00545                                 <span class="comment">// DEBUG</span>
00546                                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::clearRead(): callback %s\n"</span>,
00547                                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00548 
00549                                 <span class="keywordflow">if</span> (ccb)
00550                                         <span class="keyword">delete</span> ccb;
00551                         }
00552                 }
00553 
00554                 pd-&gt;on_readv-&gt;clear(); <span class="keywordflow">return</span> SUCCESS;
00555         }
00556 
<a name="l00557"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a16">00557</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::attachWrite(<span class="keywordtype">char</span>* key, <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb,
00558                 <span class="keywordtype">void</span>* user_data)
00559         {
00560                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00561 
00562                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00563                 <span class="keywordflow">if</span> (!pd)
00564                         <span class="keywordflow">return</span> FAILURE;
00565 
00566                 <span class="comment">// DEBUG</span>
00567                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"attachWrite(): adding callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00568 
00569                 pd-&gt;user_data = user_data;
00570                 <span class="keywordflow">return</span> pd-&gt;on_writev-&gt;add(ccb);
00571         }
00572 
<a name="l00573"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a17">00573</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::clearWrite(<span class="keywordtype">char</span>* key, <span class="keywordtype">bool</span> dealloc)
00574         {
00575                 <span class="keyword">struct </span>pdesc_t* pd = NULL;
00576 
00577                 pd = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00578                 <span class="keywordflow">if</span> (!pd || !pd-&gt;on_writev)
00579                         <span class="keywordflow">return</span> FAILURE;
00580 
00581                 <span class="keywordflow">if</span> (dealloc) {
00582                         <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pd-&gt;on_writev-&gt;getCount(); i++) {
00583                                 <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pd-&gt;on_writev)[i];
00584 
00585                                 <span class="comment">// DEBUG</span>
00586                                 <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"ConfigTable::clearWrite(): callback %s\n"</span>,
00587                                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00588 
00589                                 <span class="keywordflow">if</span> (ccb)
00590                                         <span class="keyword">delete</span> ccb;
00591                         }
00592                 }
00593 
00594                 pd-&gt;on_writev-&gt;clear(); <span class="keywordflow">return</span> SUCCESS;
00595         }
00596 
<a name="l00597"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a22">00597</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::setNull(<span class="keywordtype">char</span>* key)
00598         {
00599                 <span class="keyword">struct </span>pdesc_t pd, * pdp = NULL;
00600                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret;
00601 
00602                 pd.<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_INT;
00603                 pd.property = NULL;
00604                 pd.is_null = 1;
00605 
00606                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;pd, <span class="keyword">sizeof</span>(pd));
00607                 <span class="keywordflow">if</span> (ret == FAILURE)
00608                         <span class="keywordflow">return</span> FAILURE;
00609 
00610                 <span class="keywordflow">return</span> SUCCESS;
00611         }
00612 
<a name="l00613"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a18">00613</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::setInt(<span class="keywordtype">char</span>* key, int32 value)
00614         {
00615                 <span class="keyword">struct </span>pdesc_t pd, * pdp = NULL;
00616                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret;
00617 
00618                 pd.type = Property::TYPE_INT;
00619                 pd.property = NULL;
00620                 pd.is_null = 0;
00621 
00622                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;pd, <span class="keyword">sizeof</span>(pd));
00623                 <span class="keywordflow">if</span> (ret == FAILURE)
00624                         <span class="keywordflow">return</span> FAILURE;
00625 
00626                 pdp = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00627                 <span class="keywordflow">if</span> (ret == SUCCESS) {
00628                         pdp-&gt;on_readv = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00629                         ret = pdp-&gt;on_readv-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a> *));
00630                         <span class="keywordflow">if</span> (ret == FAILURE)
00631                                 <span class="keywordflow">return</span> FAILURE;
00632 
00633                         pdp-&gt;on_writev = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00634                         ret = pdp-&gt;on_writev-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(ConfigCallBack *));
00635                         <span class="keywordflow">if</span> (ret == FAILURE)
00636                                 <span class="keywordflow">return</span> FAILURE;
00637                 }
00638 
00639                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;value, <span class="keyword">sizeof</span>(<a class="code" href="namespaceu_stream_lib.html#a244">int32</a>), <span class="keyword">true</span>);
00640                 <span class="keywordflow">if</span> (ret == FAILURE)
00641                         <span class="keywordflow">return</span> FAILURE;
00642 
00643                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pdp-&gt;on_writev-&gt;getCount(); i++) {
00644                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pdp-&gt;on_writev)[i];
00645 
00646                         <span class="comment">// DEBUG</span>
00647                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"setInt(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00648 
00649                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00650                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00651                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_INT;
00652                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00653                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = &amp;value;
00654                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00655                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00656                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00657                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00658                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pdp-&gt;user_data;
00659 
00660                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00661                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pdp-&gt;user_data);
00662                 }
00663 
00664                 <span class="keywordflow">return</span> ret;
00665         }
00666 
<a name="l00667"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a19">00667</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::setDouble(<span class="keywordtype">char</span>* key, <span class="keywordtype">double</span> value)
00668         {
00669                 <span class="keyword">struct </span>pdesc_t pd, * pdp = NULL;
00670                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret;
00671 
00672                 pd.<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_DOUBLE;
00673                 pd.property = NULL;
00674                 pd.is_null = 0;
00675 
00676                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;pd, <span class="keyword">sizeof</span>(pd));
00677                 <span class="keywordflow">if</span> (ret == FAILURE)
00678                         <span class="keywordflow">return</span> FAILURE;
00679 
00680                 pdp = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00681                 <span class="keywordflow">if</span> (ret == SUCCESS) {
00682                         pdp-&gt;on_readv = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00683                         ret = pdp-&gt;on_readv-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a> *));
00684                         <span class="keywordflow">if</span> (ret == FAILURE)
00685                                 <span class="keywordflow">return</span> FAILURE;
00686 
00687                         pdp-&gt;on_writev = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00688                         ret = pdp-&gt;on_writev-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(ConfigCallBack *));
00689                         <span class="keywordflow">if</span> (ret == FAILURE)
00690                                 <span class="keywordflow">return</span> FAILURE;
00691                 }
00692 
00693                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;value, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>), <span class="keyword">true</span>);
00694                 <span class="keywordflow">if</span> (ret == FAILURE)
00695                         <span class="keywordflow">return</span> FAILURE;
00696 
00697                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pdp-&gt;on_writev-&gt;getCount(); i++) {
00698                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pdp-&gt;on_writev)[i];
00699 
00700                         <span class="comment">// DEBUG</span>
00701                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"setDouble(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00702 
00703                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00704                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00705                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_DOUBLE;
00706                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00707                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00708                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = &amp;value;
00709                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00710                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00711                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00712                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pdp-&gt;user_data;
00713 
00714                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00715                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pdp-&gt;user_data);
00716                 }
00717 
00718                 <span class="keywordflow">return</span> ret;
00719         }
00720 
<a name="l00721"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a20">00721</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::setString(<span class="keywordtype">char</span>* key, <span class="keywordtype">char</span>* value, uint32 val_size)
00722         {
00723                 <span class="keyword">struct </span>pdesc_t pd, * pdp = NULL;
00724                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret;
00725 
00726                 pd.<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_STRING;
00727                 pd.property = NULL;
00728                 pd.is_null = 0;
00729 
00730                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;pd, <span class="keyword">sizeof</span>(pd));
00731                 <span class="keywordflow">if</span> (ret == FAILURE)
00732                         <span class="keywordflow">return</span> FAILURE;
00733 
00734                 pdp = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00735                 <span class="keywordflow">if</span> (ret == SUCCESS) {
00736                         pdp-&gt;on_readv = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00737                         ret = pdp-&gt;on_readv-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a> *));
00738                         <span class="keywordflow">if</span> (ret == FAILURE)
00739                                 <span class="keywordflow">return</span> FAILURE;
00740 
00741                         pdp-&gt;on_writev = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00742                         ret = pdp-&gt;on_writev-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(ConfigCallBack *));
00743                         <span class="keywordflow">if</span> (ret == FAILURE)
00744                                 <span class="keywordflow">return</span> FAILURE;
00745                 }
00746 
00747                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, value, val_size, <span class="keyword">true</span>);
00748                 <span class="keywordflow">if</span> (ret == FAILURE)
00749                         <span class="keywordflow">return</span> FAILURE;
00750 
00751                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pdp-&gt;on_writev-&gt;getCount(); i++) {
00752                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pdp-&gt;on_writev)[i];
00753 
00754                         <span class="comment">// DEBUG</span>
00755                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"setString(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00756 
00757                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00758                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00759                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_STRING;
00760                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = 0;
00761                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00762                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00763                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = value;
00764                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = NULL;
00765                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = val_size;
00766                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pdp-&gt;user_data;
00767 
00768                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00769                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pdp-&gt;user_data);
00770                 }
00771 
00772                 <span class="keywordflow">return</span> ret;
00773         }
00774 
<a name="l00775"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a21">00775</a>         <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ConfigTable::setObject(<span class="keywordtype">char</span>* key, <span class="keywordtype">void</span>* object, uint16 otype_id)
00776         {
00777                 <span class="keyword">struct </span>pdesc_t pd, * pdp = NULL;
00778                 <a class="code" href="namespaceu_stream_lib.html#a244">int32</a> ret;
00779 
00780                 pd.<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_OBJECT;
00781                 pd.<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = otype_id;
00782                 pd.property = NULL;
00783                 pd.is_null = 0;
00784 
00785                 ret = _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a10">put</a>(key, (<span class="keywordtype">char</span> *) &amp;pd, <span class="keyword">sizeof</span>(pd));
00786                 <span class="keywordflow">if</span> (ret == FAILURE)
00787                         <span class="keywordflow">return</span> FAILURE;
00788 
00789                 pdp = (<span class="keyword">struct </span>pdesc_t *) _shDtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a6">get</a>(key);
00790                 <span class="keywordflow">if</span> (ret == SUCCESS) {
00791                         pdp-&gt;on_readv = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00792                         ret = pdp-&gt;on_readv-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a> *));
00793                         <span class="keywordflow">if</span> (ret == FAILURE)
00794                                 <span class="keywordflow">return</span> FAILURE;
00795 
00796                         pdp-&gt;on_writev = <span class="keyword">new</span> <a class="code" href="classu_stream_lib_1_1_p_vector.html">PVector</a>();
00797                         ret = pdp-&gt;on_writev-&gt;<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a2">init</a>(<span class="keyword">sizeof</span>(ConfigCallBack *));
00798                         <span class="keywordflow">if</span> (ret == FAILURE)
00799                                 <span class="keywordflow">return</span> FAILURE;
00800                 }
00801 
00802                 ret = _shVtable.<a class="code" href="classu_stream_lib_1_1_shared_hash.html#a12">pput</a>(key, (<span class="keywordtype">char</span> *) object, <span class="keyword">true</span>);
00803                 <span class="keywordflow">if</span> (ret == FAILURE)
00804                         <span class="keywordflow">return</span> FAILURE;
00805 
00806                 <span class="keywordflow">for</span> (<a class="code" href="namespaceu_stream_lib.html#a243">uint32</a> i = 0; i &lt; pdp-&gt;on_writev-&gt;getCount(); i++) {
00807                         <a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>* ccb = (<a class="code" href="classu_stream_lib_1_1_config_call_back.html">ConfigCallBack</a>*) (*pdp-&gt;on_writev)[i];
00808 
00809                         <span class="comment">// DEBUG</span>
00810                         <a class="code" href="typedefs_8hpp.html#a14">UOSUTIL_DOUT</a>((<span class="stringliteral">"setObject(): invoking callback %s\n"</span>, ccb-&gt;<a class="code" href="classu_stream_lib_1_1_call_back.html#a3">getName</a>()));
00811 
00812                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p0">ct</a> = <span class="keyword">this</span>;
00813                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p1">key</a> = key;
00814                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p2">type</a> = Property::TYPE_OBJECT;
00815                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p3">otype_id</a> = otype_id;
00816                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p4">ival</a> = NULL;
00817                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p5">dval</a> = NULL;
00818                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p6">sval</a> = NULL;
00819                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p8">oval</a> = object;
00820                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p7">svalsz</a> = 0;
00821                         ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#p9">userdata</a> = pdp-&gt;user_data;
00822 
00823                         <span class="keywordflow">if</span> (ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a4">isEnabled</a>())
00824                                 ccb-&gt;<a class="code" href="classu_stream_lib_1_1_config_call_back.html#a3">perform</a>(pdp-&gt;user_data);
00825                 }
00826 
00827                 <span class="keywordflow">return</span> ret;
00828         }
00829 
<a name="l00830"></a><a class="code" href="classu_stream_lib_1_1_config_table.html#a25">00830</a>         <span class="keywordtype">void</span> ConfigTable::clear(<span class="keywordtype">void</span>)
00831         {
00832                 <a class="code" href="classu_stream_lib_1_1_enumeration.html">Enumeration</a>* en = _shDtable.<a class="code" href="classu_stream_lib_1_1_hash.html#a19">keys</a>();
00833                 <span class="keywordflow">while</span> (en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a3">hasMoreElements</a>())
00834                         <a class="code" href="classu_stream_lib_1_1_config_table.html#a22">setNull</a>((<span class="keywordtype">char</span> *) en-&gt;<a class="code" href="classu_stream_lib_1_1_enumeration.html#a4">nextElement</a>());
00835         }
00836 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Feb 9 19:03:31 2006 for uStream by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
